(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[45],{100:function(e,t,a){"use strict";a(0);var n=a(84),r=a(127),c=a(118),s=a(1);t.a=function(e){var t=e.children;return Object(s.jsx)(n.a,{children:Object(s.jsx)(r.a,{className:"justify-content-md-center",children:Object(s.jsx)(c.a,{xs:12,md:6,children:t})})})}},153:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return j})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return f}));var n=a(5),r=a(15),c=a(93),s=a.n(c),o=a(8),i=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a,r){var c,i,u,p,d;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.A}),c=r(),i=c.userLogIn.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.post("/api/category-image-upload",{image:e},u);case 6:p=t.sent,d=p.data,a({type:o.C,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a,r){var c,i,u;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.w}),c=r(),i=c.userLogIn.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.post("/api/category-image-remove",{id:e},u);case 6:a({type:o.y}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:o.v,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a,r){var c,i,u;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.b}),c=r(),i=c.userLogIn.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.post("/api/category",e,u);case 6:a({type:o.d}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:o.a,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var a,r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.m}),a={headers:{"Content-Type":"application/json"}},e.next=5,s.a.get("/api/category",a);case 5:r=e.sent,c=r.data,t({type:o.n,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:o.l,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a,r){var c,i,u;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.f}),c=r(),i=c.userLogIn.userInfo,u={headers:{Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.delete("/api/category/".concat(e),u);case 6:a({type:o.g}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:o.e,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){var r,c,i;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.i}),r={headers:{"Content-Type":"application/json"}},t.next=5,s.a.get("/api/category/".concat(e),r);case 5:c=t.sent,i=c.data,a({type:o.k,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:o.h,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a,r){var c,i,u;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.p}),c=r(),i=c.userLogIn.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.put("/api/category/".concat(e.slug),e,u);case 6:a({type:o.r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:o.o,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(Object(n.a)().mark((function t(a){var r,c,i;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.t}),r={headers:{"Content-Type":"application/json"}},t.next=5,s.a.post("/api/categoryByCategory",{slug:e},r);case 5:c=t.sent,i=c.data,a({type:o.u,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:o.s,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},209:function(e,t,a){"use strict";t.a=a.p+"static/media/image-placeholder.9fe12a22.png"},292:function(e,t,a){"use strict";var n=a(10),r=a(0),c=a(127),s=a(118),o=a(83),i=a(164),u=a(111),p=a(209),d=a(50),l=a(92),j=a(121),b=a(182),f=a(88),g=a(153),m=a(8),y=a(1);t.a=function(e){var t=e.setImage,a=e.image,O=e.onError,h=Object(r.useState)(""),v=Object(n.a)(h,2),x=v[0],k=v[1],w=Object(d.b)(),I=Object(d.c)((function(e){return e.categoryFileUpload})),C=I.loading,z=I.uploadData,B=I.error,L=I.success,N=Object(d.c)((function(e){return e.categoryFileRemove})),T=N.loading,A=N.error,E=N.success;Object(r.useEffect)((function(){t(z),E&&(w({type:m.B}),w({type:m.x}))}),[z,t,E,w]),Object(r.useEffect)((function(){k(O)}),[O]);return Object(y.jsxs)(c.a,{className:"d-flex align-items-end",children:[Object(y.jsx)(u.a.Label,{children:"Upload Image"}),B&&Object(y.jsx)(f.a,{riant:"danger",children:B}),x&&Object(y.jsx)(f.a,{variant:"danger",children:x}),A&&Object(y.jsx)(f.a,{variant:"danger",children:A}),Object(y.jsx)(s.a,{md:4,children:a&&a.url?Object(y.jsx)(o.a,{src:a.url,thumbnail:!0,fluid:!0}):Object(y.jsx)(o.a,{src:p.a,thumbnail:!0,fluid:!0})}),Object(y.jsx)(s.a,{md:6,children:a&&a.public_id&&Object(y.jsx)(i.a,{variant:"danger",onClick:function(){return e=a.public_id,void w(Object(g.a)(e));var e},children:"Remove Image"})}),Object(y.jsx)(s.a,{md:2,children:C||T?Object(y.jsx)(l.a,{size:"size-sm"}):L?Object(y.jsx)(j.a,{icon:b.a}):""})]})}},567:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(0),c=a(100),s=a(4),o=a(51),i=a(111),u=a(164),p=a(92),d=a(88),l=a(50),j=a(153),b=a(252),f=a.n(b),g=a(8),m=a(292),y=a(1);t.default=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],b=t[1],O=Object(r.useState)(""),h=Object(n.a)(O,2),v=h[0],x=h[1],k=Object(r.useState)({}),w=Object(n.a)(k,2),I=w[0],C=w[1],z=Object(l.b)(),B=Object(s.D)(),L=Object(s.I)().slug,N=Object(l.c)((function(e){return e.userLogIn})).userInfo,T=Object(l.c)((function(e){return e.categoryDetails})),A=T.categoryData,E=T.loading,F=T.error,U=Object(l.c)((function(e){return e.categoryUpdate})),D=U.success,S=U.loading,G=U.error;Object(r.useEffect)((function(){N&&"admin"===N.role?D?(z({type:g.q}),z({type:g.B}),z({type:g.j}),B("/admin/category")):A.name&&A.slug===L?(x(A.name),C(A.image)):z(Object(j.e)(L)):B("/")}),[z,L,A,D,N,B]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.Link,{to:"/admin/category",className:"btn btn-dark my-3",children:"Go Back"}),Object(y.jsxs)(c.a,{children:[D&&Object(y.jsx)(d.a,{variant:"success",children:"Category Updated"}),G&&Object(y.jsx)(d.a,{variant:"danger",children:G}),F&&Object(y.jsx)(d.a,{variant:"danger",children:F}),Object(y.jsxs)(i.a,{onSubmit:function(e){e.preventDefault(),z(Object(j.h)({name:v,image:I,slug:L}))},className:"my-5",children:[Object(y.jsxs)(i.a.Group,{controlId:"Update category",children:[Object(y.jsxs)(i.a.Group,{controlId:"image",className:"mt-1",children:[Object(y.jsx)(m.a,{setImage:C,image:I,onError:a}),I&&!I.public_id&&Object(y.jsx)(i.a.Control,{className:"mt-3",type:"file",onChange:function(e){var t=e.target.files[0];t&&f.a.imageFileResizer(t,150,150,"PNG",100,0,(function(e){b(""),z(Object(j.b)(e))}),"base64")},accept:"image/*",size:"md"})]}),Object(y.jsx)(i.a.Label,{children:"Category"}),Object(y.jsx)(i.a.Control,{type:"text",placeholder:"Enter category",value:v,onChange:function(e){return x(e.target.value)}})]}),Object(y.jsxs)(u.a,{type:"submit",variant:"primary",className:"my-3",disabled:E,children:["Update ",S&&Object(y.jsx)(p.a,{size:"size-sm"})]})]})]})]})}},88:function(e,t,a){"use strict";a(0);var n=a(134),r=a(1);t.a=function(e){var t=e.children,a=e.variant;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(n.a,{variant:a,children:t})})}},92:function(e,t,a){"use strict";a(0);var n=a(131),r=a(1),c=function(e){var t=e.size;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(n.a,{animation:"grow",variant:"dark",className:t})})};c.defaultProps={size:"size-md"},t.a=c}}]);
//# sourceMappingURL=45.56d5fb85.chunk.js.map